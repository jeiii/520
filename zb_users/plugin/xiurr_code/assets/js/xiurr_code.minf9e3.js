function xiurr_code_get_btn(e){let t='<div class="code-button-box"><span class="code-button-notice"></span>';for(var i in e)switch(i){case"full":t+='<div class="code-btn code-btn-full '+("on"===e[i]?"":"hide")+'" title="全屏"><i class="code-iconfont">&#xeb99;</i></div>';break;case"copy":t+='<div class="code-btn code-btn-copy '+("on"===e[i]?"":"hide")+'" title="复制"><i class="code-iconfont">&#xeb4e;</i></div>';break;case"close":t+='<div class="code-btn code-btn-close '+("on"===e[i]?"":"hide")+'" title="收起"><i class="code-iconfont">&#xeb8b;</i></div>'}return t+="</div>"}function xiurr_code_patch_language(e){e=/language-([^ ;"']*)/.exec(e)||/brush:([^ ;"']*)/.exec(e);return null!==e?e[1]:""}hljs.addPlugin({"after:highlightElement":({el:e,result:t})=>{void 0!==t.language&&$(e).parent().parent().attr("data-language",t.language)}}),window.xiurrCode={highlightAll:function(){this.createPreHTML(),this.highlightEl()},createPreHTML:function(){$('pre:not([data-xiurr-code="finish"])').each(function(){var e=$(this),t=e.find("code");let i=xiurr_code_patch_language(e.attr("class"));""!==(i=""===i&&0<t.length?xiurr_code_patch_language(t.attr("class")):i)&&e.addClass("language-"+i),e.wrap('<div data-language="'+i+'" class="'+`code-wrapper hljs ${window.XIURR_CODE_CONFIG.border_style} ${window.XIURR_CODE_CONFIG.show_shadow} ${window.XIURR_CODE_CONFIG.show_type} ${window.XIURR_CODE_CONFIG.show_line} ${window.XIURR_CODE_CONFIG.show_line_number} `+window.XIURR_CODE_CONFIG.code_word_wrap+'"></div>'),t.length<=0&&e.html("<code>"+e.html()+"</code>")})},highlightEl:function(){let c=this,s=parseInt(window.XIURR_CODE_CONFIG.code_height_limit);$('pre:not([data-xiurr-code="finish"]) code').each(function(e,t){var i=$(this).parents(".code-wrapper"),o=i.children("pre"),n=xiurr_code_get_btn(window.XIURR_CODE_CONFIG.code_group_btn),e='<div class="code-msg" id="'+e+'"></div>';hljs.highlightElement(t),$(this).html("<ul class='xiurr-code-ul'><li>"+$(this).html().trim().replace(/\n/g,"\n</li><li>")+"\n</li></ul>"+n+e),i.attr("mh",o.outerHeight()+"px"),0<s&&o.outerHeight()>s&&("on"===window.XIURR_CODE_CONFIG.code_limit_btn?o.outerHeight()>s+30&&(i.prepend('<div class="code-btn-expand"><i class="code-iconfont">&#xeb04;</i></div>'),o.css("height",s+"px")):o.css("height",s+"px")),"on"===window.XIURR_CODE_CONFIG.code_close&&i.attr("close","true").children("pre").css("max-height","0").scrollTop(0),c.bindButton(i),o.attr("data-xiurr-code","finish")})},bindButton:function(e){e.on("click",".code-btn-close",function(){var e=$(this).parents(".code-wrapper"),t=(e.children("pre"),e.find(".code-btn-expand"));"true"===e.attr("close")?(t.show(),e.attr("close","false").children("pre").css("max-height","")):(e.attr("close","true").children("pre").css("max-height","0").scrollTop(0),e.find(".code-btn-expand").hide())}),e.on("click",".code-btn-full",function(){var e=$(this),t=e.parents(".code-wrapper"),i=t.children("pre");e.hasClass("full")?(i.css("max-height",this.maxHeight).css("height",this.height),e.removeClass("full").children().text(""),t.removeClass("code-block-fullscreen").find(".code-btn-close").show()):(this.height=i.prop("style").height,this.maxHeight=i.prop("style").maxHeight,i.css({"max-height":"",height:""}),e.addClass("full").children().text(""),t.addClass("code-block-fullscreen").find(".code-btn-close").hide())}),e.on("click",".code-btn-expand",function(){$(this).addClass("expand-done").next("pre").css("height","")})}},$(function(){window.xiurrCode.highlightAll();var e=new ClipboardJS(".code-btn-copy",{target:function(e){return e.parentNode.parentNode}});let o={};e.on("success",function(e){let t=$(e.trigger).parents("code").find(".code-msg"),i=t.attr("id");void 0===o[i]&&(o[i]={clickCopyOut:null,messageMoveOut:null}),""===t.html()&&(t.html('<div class="code-msg-content"><div class="code-msg-content-success"><i class="code-msg-icon"><svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="48" height="48" fill="white" fill-opacity="0.01"></rect><path d="M24 4L29.2533 7.83204L35.7557 7.81966L37.7533 14.0077L43.0211 17.8197L41 24L43.0211 30.1803L37.7533 33.9923L35.7557 40.1803L29.2533 40.168L24 44L18.7467 40.168L12.2443 40.1803L10.2467 33.9923L4.97887 30.1803L7 24L4.97887 17.8197L10.2467 14.0077L12.2443 7.81966L18.7467 7.83204L24 4Z" fill="#52c41a" stroke="#52c41a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path><path d="M17 24L22 29L32 19" stroke="#FFF" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path></svg></i><span>复制成功！</span></div></div>').css("animation-name","MessageMoveIn"),$(e.trigger).children().text("").css("color","#35cd4b")),clearTimeout(o[i].clickCopyOut),clearTimeout(o[i].messageMoveOut),o[i].clickCopyOut=setTimeout(function(){$(e.trigger).children().text("").css("color",""),t.css("animation-name","MessageMoveOut"),o[i].messageMoveOut=setTimeout(function(){t.css("animation-name","").html("")},280)},1500),e.clearSelection()}),e.on("error",function(e){alert("复制失败")})});